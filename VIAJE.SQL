

CREATE TABLE PIODB.VIAJE (
    ID_VIAJE INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    PAIS_SALIDA VARCHAR2(50) NOT NULL,
    CIUDAD_SALIDA VARCHAR2(50) NOT NULL,
    ID_TIQUETE INTEGER NOT NULL,
    ID_AVION INTEGER,
    ID_DESTINO INTEGER NOT NULL
) TABLESPACE PIO;



COMMENT ON TABLE PIODB.VIAJE IS 'VIAJE';


COMMENT ON COLUMN PIODB.VIAJE.ID_VIAJE  IS 'ID DEL VIAJE ';

COMMENT ON COLUMN PIODB.VIAJE.PAIS_SALIDA  IS 'PASI DE SALIDAD';


COMMENT ON COLUMN PIODB.VIAJE.CIUDAD_SALIDA  IS 'CIUEDAD DE SALIDA';

COMMENT ON COLUMN PIODB.VIAJE.ID_AVION  IS 'ID AVION';


COMMENT ON COLUMN PIODB.VIAJE.ID_TIQUETE  IS 'ID DEL TIQUETE';




COMMENT ON COLUMN PIODB.VIAJE.ID_DESTINO  IS 'ID DEL DESTINO ';




CREATE UNIQUE INDEX IDX_PK_ID_VIAJE_VIAJE
     ON PIODB.VIAJE(ID_VIAJE)
     TABLESPACE PIO_INDEXES;
     
     
ALTER TABLE PIODB.VIAJE ADD CONSTRAINT PK_ID_VIAJE_VIAJE PRIMARY KEY (ID_VIAJE)
        USING INDEX  IDX_PK_ID_VIAJE_VIAJE ;
        
        
ALTER TABLE PIODB.VIAJE ADD CONSTRAINT FK_VIAJE_TIQUETE
      FOREIGN KEY (ID_TIQUETE) REFERENCES PIODB.TIQUETE(ID_TIQUETE);
      
      
ALTER TABLE PIODB.VIAJE ADD CONSTRAINT FK_VIAJE_DESTINO
      FOREIGN KEY (ID_DESTINO) REFERENCES PIODB.DESTINO(ID_DESTINO);



ALTER TABLE PIODB.VIAJE ADD CONSTRAINT FK_VIAJE_AVION
      FOREIGN KEY (ID_AVION) REFERENCES PIODB.AVION(ID_AVION);